<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.12"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>NEOC: Read</title>
        <link href="tabs.css" rel="stylesheet" type="text/css"/>
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="neocdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                   <a href="index.html"><img src="neoc_small.png" class="logostyle" alt="NEOC Icon" align="left"/></a>
                   <a class="navbar-brand" href="index.html">
                   NEOC 0.1</a>
                </div>
            <ul class="nav navbar-nav">
              <li><a href="index.html">Main Page</a></li>
              <li><a href="files.html">Files</a></li>
              <li class="dropdown">
                 <a href="annotated.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Data Structures<span class="caret"></span></a>
                   <ul class="dropdown-menu">
                      <li><a href="annotated.html">All Data Structures</a></li>
                      <li><a href="classes.html">Classes and Index</a></li>
                   </ul>
              </li>
              <li><a href="globals.html">Functions</a></li>
                <div style="float: right;">
                  <p class="navbar-text">By David Smerkous</p>
		</div>
              <li class="dropdown">
                 <a href="examples.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Examples<span class="caret"></span></a>
                   <ul class="dropdown-menu">
                      <li><a href="examples.html">All Examples</a></li>
                      <li class="menu-item dropdown dropdown-submenu"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Gpio</a>
                          <ul class="dropdown-menu">
                             <li class="menu-item"><a href="gpioblink.html">Blink</a></li>
                             <li class="menu-item"><a href="gpioread.html">Read</a></li>
                          </ul>
                      </li>
                      <li class="menu-item dropdown dropdown-submenu"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Pwm</a>
                          <ul class="dropdown-menu">
                             <li class="menu-item"><a href="examplepwm.html">Real Write</a></li>
                             <li class="menu-item"><a href="examplefakepwm.html">Fake Fade</a></li>
                          </ul>
                      </li>
                      <li class="menu-item dropdown dropdown-submenu"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Analog</a>
                          <ul class="dropdown-menu">
                             <li class="menu-item"><a href="exampleanalog.html">Read</a></li>
                          </ul>
                      </li>
                   </ul>
              </li>
            </ul>
            </div>        
	</nav>
        <div id="top"><!-- Other side of div is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
				<div id="MSearchResultsWindow">
				<iframe src="javascript:void(0)" frameborder="0" name="MSearchResults" id="MSearchResults">
				</iframe>
				</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Read </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>How to read the voltage and raw value from Analog</p>
<p>This tutorial is just a quick brief overview of how to read Analog both the voltage and the raw 12bit value. There is an optional #define you can place if you want that raw value to be scaled to millivolts.<br />
<br />
</p>
<p>By now you should know how to create, read and write to a file. So lets create one called analogread.c or analogread.cpp (for c++)</p>
<h1><a class="anchor" id="examplec"></a>
C Example</h1>
<div class="fragment"><div class="line"><span class="preprocessor"> #include &lt;<a class="code" href="neo_8h.html">neo.h</a>&gt;</span></div><div class="line"><span class="preprocessor"> #include &lt;time.h&gt;</span></div><div class="line"></div><div class="line"><span class="comment">//OPTIONAL SCALED VALUE</span></div><div class="line"><span class="comment">//#define SCALEANALOG</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main() {</div><div class="line">    <a class="code" href="neo_8c.html#a8e7bdef17ff3b69216fec01f8d13b4bb">neo_disable_m4</a>(); <span class="comment">//Make sure you disblae the m4 core (this doesn&#39;t need to be ran everytime)</span></div><div class="line"></div><div class="line">    <span class="keywordtype">int</span> ret; <span class="comment">//Variable to hold the return</span></div><div class="line">    ret = <a class="code" href="analog_8c.html#af8ca2c116caf55d1de17157e3a390726">neo_analog_init</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(ret != NEO_OK) {</div><div class="line">       printf(<span class="stringliteral">&quot;FAILED INITIAL SETUP FOR ANALOG!\n&quot;</span>);</div><div class="line">       <span class="keywordflow">return</span> 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordtype">int</span> i, id;</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span>(i = 0; i &lt; 3; i++) {</div><div class="line">        printf(<span class="stringliteral">&quot;Trial %d\n&quot;</span>, i);</div><div class="line">        <span class="keywordflow">for</span>(<span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt;= 5; <span class="keywordtype">id</span>++) {</div><div class="line">            printf(<span class="stringliteral">&quot;ANALOG(A%d): %.2f out of 4095\n&quot;</span>, <span class="keywordtype">id</span>, <a class="code" href="analog_8c.html#a62237a2d7468a9aee91c9efdc0934ce3">neo_analog_read</a>(<span class="keywordtype">id</span>));</div><div class="line">        }</div><div class="line">        printf(<span class="stringliteral">&quot;\n\n&quot;</span>);</div><div class="line">        sleep(1);</div><div class="line">    }</div><div class="line">    <a class="code" href="analog_8c.html#a1aae9b7924b859181443f6beaff2d632">neo_analog_free</a>();</div><div class="line">    printf(<span class="stringliteral">&quot;Done reading analog!\n&quot;</span>);</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p> <br />
 </p>
<h1><a class="anchor" id="examplecpp"></a>
C++ Example</h1>
<div class="fragment"><div class="line"><span class="preprocessor"> #include &lt;<a class="code" href="neo_8h.html">neo.h</a>&gt;</span></div><div class="line"><span class="preprocessor"> #include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="comment">//OPTIONAL SCALED VALUE (If the value is over 3.3v use this, either than that don&#39;t)</span></div><div class="line"><span class="comment">//#define SCALEANALOG</span></div><div class="line"></div><div class="line"> <span class="comment">//using namespace neo; //Usually this is bad practice </span></div><div class="line"> <span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"> <span class="comment">//Main function</span></div><div class="line"> <span class="keywordtype">int</span> main() {</div><div class="line">     cout &lt;&lt; <span class="stringliteral">&quot;Disabling m4 core&quot;</span> &lt;&lt; endl;</div><div class="line">    <a class="code" href="neo_8h.html#a14e09f724b7ff1441e895ddeb8c1b3c9">neo::setM4</a>(neo::DISABLED);</div><div class="line">     </div><div class="line">     <a class="code" href="classneo_1_1Analog.html">neo::Analog</a> zeroPin(0); <span class="comment">//Read from A0</span></div><div class="line">     <span class="keywordtype">float</span> rawValue = zeroPin.readRaw(); <span class="comment">//Reads raw</span></div><div class="line">     <span class="keywordtype">float</span> voltage = zeroPin.read(); <span class="comment">//Voltage auto calculated      </span></div><div class="line"></div><div class="line">     cout &lt;&lt; <span class="stringliteral">&quot;A0 voltage: &quot;</span> &lt;&lt; voltage &lt;&lt; <span class="stringliteral">&quot; RAW: &quot;</span> &lt;&lt; rawValue &lt;&lt; endl;</div><div class="line"></div><div class="line">     <span class="keywordflow">return</span> 0;</div><div class="line"> }</div></div><!-- fragment --><p> <br />
 </p>
<h2><a class="anchor" id="compiling"></a>
Compiling and Running</h2>
<p>This is the example to compile and run the C version of neo </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;gcc analogread.c -I/usr/include -lneo -o analogread</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;chmod 755 analogread</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;./analogread</div></div><!-- fragment --><p> <br />
 The C++ version to compiling is nearly the same just replace gcc with g++ </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;g++ analogread.cpp -I/usr/include -lneo -o analogread</div></div><!-- fragment --><p> <br />
 </p>
<h1><a class="anchor" id="results"></a>
Results</h1>
<p>Try hooking up an LED to that PWM pin and setting the PWM values at different points to see if the lighting changes If nothing changes make sure that pin supports REAL PWM, isn't failing to initialize it and it's been pinmuxed properly In the device tree editor </p>
</div></div><!-- contents -->

<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Created by David Smerkous &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="neoc_small.png" style="width: auto; height: 45px;" alt="NEOC Docs generated with Doxygen"/>
</a> Doxygen: 1.8.12
</small></address>
</body>
</html>
