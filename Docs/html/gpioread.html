<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.12"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>NEOC: Reading</title>
        <link href="tabs.css" rel="stylesheet" type="text/css"/>
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="neocdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                   <a href="index.html"><img src="neoc_small.png" class="logostyle" alt="NEOC Icon" align="left"/></a>
                   <a class="navbar-brand" href="index.html">
                   NEOC 0.1</a>
                </div>
            <ul class="nav navbar-nav">
              <li><a href="index.html">Main Page</a></li>
              <li><a href="files.html">Files</a></li>
              <li class="dropdown">
                 <a href="annotated.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Data Structures<span class="caret"></span></a>
                   <ul class="dropdown-menu">
                      <li><a href="annotated.html">All Data Structures</a></li>
                      <li><a href="classes.html">Classes and Index</a></li>
                   </ul>
              </li>
              <li><a href="globals.html">Functions</a></li>
                <div style="float: right;">
                  <p class="navbar-text">By David Smerkous</p>
		</div>
              <li class="dropdown">
                 <a href="examples.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Examples<span class="caret"></span></a>
                   <ul class="dropdown-menu">
                      <li><a href="examples.html">All Examples</a></li>
                      <li class="menu-item dropdown dropdown-submenu"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Gpio</a>
                          <ul class="dropdown-menu">
                             <li class="menu-item"><a href="gpioblink.html">Blink</a></li>
                             <li class="menu-item"><a href="gpioread.html">Read</a></li>
                          </ul>
                      </li>
                      <li class="menu-item dropdown dropdown-submenu"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Pwm</a>
                          <ul class="dropdown-menu">
                             <li class="menu-item"><a href="examplepwm.html">Real Write</a></li>
                             <li class="menu-item"><a href="examplefakepwm.html">Fake Fade</a></li>
                          </ul>
                      </li>
                      <li class="menu-item dropdown dropdown-submenu"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Analog</a>
                          <ul class="dropdown-menu">
                             <li class="menu-item"><a href="exampleanalog.html">Read</a></li>
                          </ul>
                      </li>
                   </ul>
              </li>
            </ul>
            </div>        
	</nav>
        <div id="top"><!-- Other side of div is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
				<div id="MSearchResultsWindow">
				<iframe src="javascript:void(0)" frameborder="0" name="MSearchResults" id="MSearchResults">
				</iframe>
				</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Reading </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>How to use the Gpio to read from pin 5</p>
<p>This is how to digitally read using pin 5 (inner bank same as arduino) in C and C++</p>
<p>Digitally reading a pin is a way of reading the current static voltage of a pin, although imagine it just being in two states. There is HIGH (For the neo is 3.3v) and LOW (0v) of course it's not exactly ever either of them so they are clipped up and down. So anything below 1v will be considered LOW and anything above 2v will be considered HIGH. That's essentially what clipping is (Those aren't the exact real values, just used as an example)</p>
<p>Lets create a new file called readgpio.c (For C++ do readgpio.cpp) </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;nano readgpio.c </div></div><!-- fragment --><p>In the file try typing this out or copying and pasting it from your browser (Typing it out helps you remember things)<br />
</p>
<h1><a class="anchor" id="examplec"></a>
C Example</h1>
<div class="fragment"><div class="line"><span class="preprocessor"> #include &lt;<a class="code" href="neo_8h.html">neo.h</a>&gt;</span></div><div class="line"><span class="preprocessor"> #include &lt;unistd.h&gt;</span></div><div class="line"><span class="preprocessor"> #include &lt;stdio.h&gt;</span></div><div class="line"></div><div class="line"> <span class="comment">//Main funciton</span></div><div class="line"> <span class="keywordtype">int</span> main() {</div><div class="line">   <a class="code" href="gpio_8c.html#a93094ca0bfe1f9dd31261f73cf23f0fb">neo_gpio_init</a>(); <span class="comment">//Must be called before using any other gpio pin function </span></div><div class="line"></div><div class="line">   <a class="code" href="gpio_8c.html#aca1027cfa391f2cbb63a9d140caf2109">neo_gpio_pin_mode</a>(5, <a class="code" href="neo_8h.html#a1bb283bd7893b9855e2f23013891fc82">INPUT</a>); <span class="comment">//Set pin 5 to input</span></div><div class="line"></div><div class="line">   <span class="keywordtype">int</span> gpio_val = <a class="code" href="gpio_8c.html#aca55e98897dacce4f2692b43c0e93a30">neo_gpio_digital_read</a>(5); <span class="comment">//Read from pin 5</span></div><div class="line"></div><div class="line">   <span class="keywordflow">if</span>(gpio_val != <a class="code" href="neo_8h.html#a5bb885982ff66a2e0a0a45a8ee9c35e2">HIGH</a> || gpio_val != <a class="code" href="neo_8h.html#ab811d8c6ff3a505312d3276590444289">LOW</a>) { <span class="comment">//Check if the read failed (look at documentation for error codes)</span></div><div class="line">      printf(<span class="stringliteral">&quot;Failed reading from pin 5!\nERROR: %d\n&quot;</span>, gpio_val);</div><div class="line">      <span class="keywordflow">return</span> 1;</div><div class="line">   }</div><div class="line"></div><div class="line">   printf(<span class="stringliteral">&quot;Read from pin 5: %d\n&quot;</span>, gpio_val);</div><div class="line"></div><div class="line">   <a class="code" href="gpio_8c.html#aa0b5e2f0333911b69e3b01558803e12e">neo_gpio_free</a>(); <span class="comment">//Should be called to release the pins from the program (Called at end of program)</span></div><div class="line">   <span class="keywordflow">return</span> 0; </div><div class="line">}</div></div><!-- fragment --><p> <br />
 </p>
<h1><a class="anchor" id="examplecpp"></a>
C++ Example</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="neo_8h.html">neo.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceneo.html">neo</a>; </div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="comment">//Main function</span></div><div class="line"><span class="keywordtype">int</span> main() {</div><div class="line">    <a class="code" href="classneo_1_1Gpio.html">Gpio</a> readpin(5); <span class="comment">//Start pin 5 as gpio pin</span></div><div class="line">    readpin.setIn(); <span class="comment">//Set as INPUT      </span></div><div class="line"></div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Read from pin 5: &quot;</span> &lt;&lt; readpin.read() &lt;&lt; endl; <span class="comment">//Read from pin and print result</span></div><div class="line">   <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p> <br />
 </p>
<h2><a class="anchor" id="compiling"></a>
Compiling and Running</h2>
<p>This is the example to compile and run the C version of neo </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;gcc readgpio.c -I/usr/include -lneo -o readgpio</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;chmod 755 readgpio</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;./readgpio</div></div><!-- fragment --><p> <br />
 The C++ version to compiling is nearly the same just replace gcc with g++ </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;g++ readgpio.cpp -I/usr/include -lneo -o readgpio</div></div><!-- fragment --><p> <br />
 </p>
<h1><a class="anchor" id="results"></a>
Results</h1>
<p>After running the program you should get a print in the terminal of "Read from pin 5: &lt;0 or 1&gt;" The pin can have some static and be pulled either direction to make sure you are reading 1 try jumping a wire from 3.3v to pin 5 run it quickly and unplug. Then try attaching gnd to pin 5 and run the program. Does that number change? </p>
</div></div><!-- contents -->

<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Created by David Smerkous &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="neoc_small.png" style="width: auto; height: 45px;" alt="NEOC Docs generated with Doxygen"/>
</a> Doxygen: 1.8.12
</small></address>
</body>
</html>
